import pandas as pd
import matplotlib.pyplot as plt

# Charger les données depuis le fichier CSV en spécifiant le séparateur
df = pd.read_csv('Avril2023.csv', sep=';')

# Filtrer les données pour inclure uniquement les villes spécifiques
villes_specifiques = ['59 - Lille Lesquin', '22 - Lannion Servel', '66 - Perpignan Rivesalte', '67 - Strasbourg Entzheim']
df = df[df['Station'].isin(villes_specifiques)]

# Convertir les colonnes de température et de précipitations en type numérique
columns_to_convert = ['Temperature mini', 'Temperature maxi', 'Temperature moy.', 'Precipitations', 'Ensoleillement']
df[columns_to_convert] = df[columns_to_convert].apply(pd.to_numeric, errors='coerce')

# Exclure les lignes avec des valeurs manquantes
df = df.dropna(subset=['Temperature moy.'])

# Diviser les données en deux parties pour le tracé sur deux sous-graphiques (inutile pour cette configuration)
df1 = df
df2 = pd.DataFrame()

# Créer une figure et des sous-graphiques
fig, axes = plt.subplots(1, 2, figsize=(20, 5))

# Tracer les graphiques pour chaque sous-ensemble de données (uniquement un sous-ensemble ici)
df1.plot(x='Station', y='Temperature moy.', kind='bar', ax=axes[0], color='skyblue', edgecolor='black')

# Définir les titres et les étiquettes des axes
axes[0].set_title('Température moyenne en Avrril2023 ')
axes[0].set_ylabel('Température moyenne')

# Supprimer le second sous-graphique (inutile pour cette configuration)
axes[1].remove()

# Afficher les graphiques
plt.tight_layout()
plt.show()
